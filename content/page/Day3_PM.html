---
title: "Day 3 - PM"
output: 
  blogdown::html_page: 
    toc: true
    toc_depth: 1
    highlight: tango
    css: css/camp_style.css
    number_sections: true
    self_contained: false
    fontsize: 18pt
    monofont: Source Code Pro
---

<link href="/rmarkdown-libs/font-awesome/css/all.css" rel="stylesheet" />
<link href="/rmarkdown-libs/font-awesome/css/v4-shims.css" rel="stylesheet" />
<script src="/rmarkdown-libs/clipboard/clipboard.min.js"></script>
<link href="/rmarkdown-libs/xaringanExtra-clipboard/xaringanExtra-clipboard.css" rel="stylesheet" />
<script src="/rmarkdown-libs/xaringanExtra-clipboard/xaringanExtra-clipboard.js"></script>
<script>window.xaringanExtraClipboard(null, {"button":"Copy Code","success":"Copied!","error":"Press Ctrl+C to Copy"})</script>
<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  background-color: #f8f8f8; }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ef2929; } /* Alert */
code span.an { color: #8f5902; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #204a87; } /* Attribute */
code span.bn { color: #0000cf; } /* BaseN */
code span.cf { color: #204a87; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4e9a06; } /* Char */
code span.cn { color: #8f5902; } /* Constant */
code span.co { color: #8f5902; font-style: italic; } /* Comment */
code span.cv { color: #8f5902; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #8f5902; font-weight: bold; font-style: italic; } /* Documentation */
code span.dt { color: #204a87; } /* DataType */
code span.dv { color: #0000cf; } /* DecVal */
code span.er { color: #a40000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #0000cf; } /* Float */
code span.fu { color: #204a87; font-weight: bold; } /* Function */
code span.im { } /* Import */
code span.in { color: #8f5902; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #204a87; font-weight: bold; } /* Keyword */
code span.op { color: #ce5c00; font-weight: bold; } /* Operator */
code span.ot { color: #8f5902; } /* Other */
code span.pp { color: #8f5902; font-style: italic; } /* Preprocessor */
code span.sc { color: #ce5c00; font-weight: bold; } /* SpecialChar */
code span.ss { color: #4e9a06; } /* SpecialString */
code span.st { color: #4e9a06; } /* String */
code span.va { color: #000000; } /* Variable */
code span.vs { color: #4e9a06; } /* VerbatimString */
code span.wa { color: #8f5902; font-weight: bold; font-style: italic; } /* Warning */
</style>
  <link rel="stylesheet" href="css/camp_style.css" type="text/css" />

<div id="TOC">
<ul>
<li><a href="#psstwe-need-to-talk" id="toc-psstwe-need-to-talk"><span class="toc-section-number">1</span> Psst‚Ä¶we need to talk</a></li>
<li><a href="#pipe-things-together-a-b" id="toc-pipe-things-together-a-b"><span class="toc-section-number">2</span> Pipe things together: <code>A %&gt;% B</code></a></li>
<li><a href="#connect-to-databases" id="toc-connect-to-databases"><span class="toc-section-number">3</span> <i class="fas fa-database"></i> Connect to databases</a></li>
<li><a href="#password-is-it-secret-is-it-safe" id="toc-password-is-it-secret-is-it-safe"><span class="toc-section-number">4</span> Password: Is it secret, is it safe?</a></li>
<li><a href="#your-turn" id="toc-your-turn"><span class="toc-section-number">5</span> Your turn</a></li>
<li><a href="#whats-next" id="toc-whats-next">What‚Äôs next?</a></li>
<li><a href="#concatulations" id="toc-concatulations">üê± Concatulations!</a></li>
<li><a href="#return-to-earth" id="toc-return-to-earth">Return to Earth</a></li>
</ul>
</div>

<style>
h1 .header-section-number {background: #c75a16;}
hr {background: #c75a16;}
</style>
<div id="psstwe-need-to-talk" class="section level1" number="1">
<h1><span class="header-section-number">1</span> Psst‚Ä¶we need to talk</h1>
<hr>
<p><img src="../images/bert_ernie.jpg" style="float: left; width: 33%; margin-right: 20px;"></p>
<p><br><br></p>
<blockquote>
<p>‚ÄúThe secret to writing better is reading more.‚Äù<br />
<em>-someone</em></p>
</blockquote>
<div style="clear: both;">

</div>
<div id="reading-aloud" class="section level3 unnumbered">
<h3><i class="fas fa-book"></i> Reading aloud</h3>
<p>Let‚Äôs practice reading R scripts with a partner.</p>
<p>They‚Äôll listen to what you say and turn it into R code.</p>
<p>It‚Äôs like a game of <em>telephone</em>, but for R.</p>
<p><br></p>
</div>
<div id="instructions" class="section level3 unnumbered">
<h3>Instructions</h3>
<ol style="list-style-type: decimal">
<li>Find a partner.
<ul>
<li>One of you gets to be <strong>Bert</strong> and one of you is <strong>Ernie</strong>.</li>
</ul></li>
<li>Bert will look at the first code block and tell Ernie what it does.</li>
<li>Ernie will then write some code that accomplishes what Bert said.</li>
<li>Then Bert can offer more clues to help.
<ul>
<li>Try <strong>not</strong> to say the exact names of functions, like ‚Äúuse <code>filter</code>‚Äù or ‚Äúuse <code>write_csv</code>‚Äù</li>
<li>Instead, say what you want to accomplish, like <code>"Drop the rows where..."</code> or <code>"Save the data as..."</code></li>
</ul></li>
</ol>
<p><br></p>
<details>
<summary class="btn_code_blue">
Example code to read aloud
</summary>
<p>Say aloud what this code does or tries to accomplish.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="fu">library</span>(sandwich)</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a>    </span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a>slices_bread <span class="ot">&lt;-</span> <span class="dv">4</span></span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a></span>
<span id="cb1-5"><a href="#cb1-5" tabindex="-1"></a>fillings <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;fillings.csv&quot;</span>)</span>
<span id="cb1-6"><a href="#cb1-6" tabindex="-1"></a></span>
<span id="cb1-7"><a href="#cb1-7" tabindex="-1"></a><span class="fu">nrow</span>(fillings)</span>
<span id="cb1-8"><a href="#cb1-8" tabindex="-1"></a></span>
<span id="cb1-9"><a href="#cb1-9" tabindex="-1"></a><span class="fu">names</span>(fillings)</span>
<span id="cb1-10"><a href="#cb1-10" tabindex="-1"></a></span>
<span id="cb1-11"><a href="#cb1-11" tabindex="-1"></a>red_veggies <span class="ot">&lt;-</span> <span class="fu">filter</span>(fillings, food_type <span class="sc">==</span> <span class="st">&quot;vegetable&quot;</span>, <span class="at">color =</span> <span class="st">&quot;red&quot;</span>)</span></code></pre></div>
</details>
<p><br>
<br></p>
<blockquote style="background-color: #f3ed8c;">
‚ö†Ô∏è <strong>Wait to click below until you decide who‚Äôs Bert.</strong>
</blockquote>
</div>
<div id="berts-turn-to-read-big-fish" class="section level3 unnumbered">
<h3>1. Bert‚Äôs <strong>turn to read:</strong> <code>BIG fish</code> <i class="fas fa-fish"></i></h3>
<blockquote>
<p><strong>No peaking Ernie!</strong></p>
</blockquote>
<p>We‚Äôll start by turning some fishy code into plain language.</p>
<details>
<summary class="btn_code_blue">
<strong>Bert‚Äôs <i class="fas fa-eye"></i><i class="fas fa-eye"></i>s only!</strong>
</summary>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="fu">library</span>(readr)</span>
<span id="cb2-2"><a href="#cb2-2" tabindex="-1"></a></span>
<span id="cb2-3"><a href="#cb2-3" tabindex="-1"></a>fishes <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;lake_superior_fish.csv&quot;</span>)</span>
<span id="cb2-4"><a href="#cb2-4" tabindex="-1"></a></span>
<span id="cb2-5"><a href="#cb2-5" tabindex="-1"></a><span class="fu">names</span>(big_fishes)</span>
<span id="cb2-6"><a href="#cb2-6" tabindex="-1"></a></span>
<span id="cb2-7"><a href="#cb2-7" tabindex="-1"></a><span class="fu">nrow</span>(fishes)</span>
<span id="cb2-8"><a href="#cb2-8" tabindex="-1"></a> </span>
<span id="cb2-9"><a href="#cb2-9" tabindex="-1"></a>big_fishes <span class="ot">&lt;-</span> <span class="fu">filter</span>(fishes, length <span class="sc">&gt;</span> <span class="dv">20</span>)</span>
<span id="cb2-10"><a href="#cb2-10" tabindex="-1"></a></span>
<span id="cb2-11"><a href="#cb2-11" tabindex="-1"></a><span class="fu">nrow</span>(big_fishes)</span></code></pre></div>
</details>
<p><br><br></p>
</div>
<div id="ernies-turn-to-read-sleepy-sheep" class="section level3 unnumbered">
<h3>2. Ernie‚Äôs <strong>turn to read:</strong> <code>Sleepy sheep</code> üêëüêëüêë <i class="fas fa-sheep"></i><i class="fas fa-sheep"></i><i class="fas fa-sheep"></i></h3>
<details>
<summary class="btn_code_blue">
<strong>Ernie‚Äôs <i class="fas fa-eye"></i><i class="fas fa-eye"></i>s only!</strong>
</summary>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a></span>
<span id="cb3-3"><a href="#cb3-3" tabindex="-1"></a>asleep <span class="ot">&lt;-</span> <span class="cn">FALSE</span></span>
<span id="cb3-4"><a href="#cb3-4" tabindex="-1"></a></span>
<span id="cb3-5"><a href="#cb3-5" tabindex="-1"></a>names <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Shaun&quot;</span>, <span class="st">&quot;Lambchop&quot;</span>, <span class="st">&quot;Dolly&quot;</span>)</span>
<span id="cb3-6"><a href="#cb3-6" tabindex="-1"></a></span>
<span id="cb3-7"><a href="#cb3-7" tabindex="-1"></a>sheep_ids <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span></span>
<span id="cb3-8"><a href="#cb3-8" tabindex="-1"></a></span>
<span id="cb3-9"><a href="#cb3-9" tabindex="-1"></a>my_sheep <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">sheep_name =</span> names, </span>
<span id="cb3-10"><a href="#cb3-10" tabindex="-1"></a>                       <span class="at">sheep_id   =</span> sheep_ids)</span>
<span id="cb3-11"><a href="#cb3-11" tabindex="-1"></a></span>
<span id="cb3-12"><a href="#cb3-12" tabindex="-1"></a><span class="fu">ggplot</span>(my_sheep, <span class="fu">aes</span>(<span class="at">x =</span> names, <span class="at">y =</span> sheep_id)) <span class="sc">+</span></span>
<span id="cb3-13"><a href="#cb3-13" tabindex="-1"></a>    <span class="fu">geom_point</span>() <span class="sc">+</span> </span>
<span id="cb3-14"><a href="#cb3-14" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Counting sheep backwards makes me Zzzz...&quot;</span>)</span>
<span id="cb3-15"><a href="#cb3-15" tabindex="-1"></a></span>
<span id="cb3-16"><a href="#cb3-16" tabindex="-1"></a>asleep <span class="ot">&lt;-</span> <span class="cn">TRUE</span></span></code></pre></div>
</details>
<p><br><br></p>
</div>
<div id="charades-act-it-out" class="section level3 unnumbered">
<h3>3. Charades! <strong>Act it out</strong></h3>
<p>Instead of saying what the code does aloud, act out what the code does without speaking at ALL.</p>
<p>Ask <strong>Barbara</strong> very nicely to go first.</p>
<details>
<summary class="btn_code_blue">
<strong>Barbara‚Äôs <i class="fas fa-eye"></i><i class="fas fa-eye"></i>s only!</strong>
</summary>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a>cat_df <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">&quot;lost_cats.xlsx&quot;</span>)</span>
<span id="cb4-2"><a href="#cb4-2" tabindex="-1"></a></span>
<span id="cb4-3"><a href="#cb4-3" tabindex="-1"></a>kittens <span class="ot">&lt;-</span> <span class="fu">filter</span>(cat_df, age <span class="sc">&lt;</span> <span class="dv">1</span>)</span>
<span id="cb4-4"><a href="#cb4-4" tabindex="-1"></a></span>
<span id="cb4-5"><a href="#cb4-5" tabindex="-1"></a>catfood <span class="ot">&lt;-</span> <span class="st">&quot;SPAM&quot;</span></span>
<span id="cb4-6"><a href="#cb4-6" tabindex="-1"></a></span>
<span id="cb4-7"><a href="#cb4-7" tabindex="-1"></a>hungry_kittens <span class="ot">&lt;-</span> <span class="fu">filter</span>(kittens, hungry <span class="sc">==</span> <span class="cn">TRUE</span>)</span>
<span id="cb4-8"><a href="#cb4-8" tabindex="-1"></a></span>
<span id="cb4-9"><a href="#cb4-9" tabindex="-1"></a>fed_cats <span class="ot">&lt;-</span> <span class="cn">TRUE</span></span></code></pre></div>
</details>
<div style="clear: both;">

</div>
<p><br></p>
</div>
</div>
<div id="pipe-things-together-a-b" class="section level1" number="2">
<h1><span class="header-section-number">2</span> Pipe things together: <code>A %&gt;% B</code></h1>
<hr>
<p><br></p>
<blockquote>
<p><strong>Wishing you could type the name of the data less often?</strong></p>
</blockquote>
<p><img src="../images/pipe.png" style="margin-right: 20px; width: 136px; float: left; margin-top: 12px;" /></p>
<div id="you-can-with-the-pipe" class="section level3 unnumbered">
<h3>You can with the <em>pipe</em>!</h3>
<p>Use the <code>%&gt;%</code> to chain functions together and make our scripts more streamlined and easier to read. When reading code with the <code>%&gt;%</code> you can read it as <strong>and then</strong>.</p>
<div style="clear: both;">

</div>
<p><strong>For example</strong></p>
<blockquote>
<p>puppy <code>%&gt;%</code> runs_outside <code>%&gt;%</code> rolls_in_mud <code>%&gt;%</code> barks_joyfully(times = 3)</p>
</blockquote>
<p><strong>Can be read as</strong></p>
<blockquote>
<p>There is a puppy, it runs outside <code>And then</code> rolls in the mud <code>And then</code> barks joyfully 3 times.‚Äù</p>
</blockquote>
</div>
<div id="the-helps" class="section level2 unnumbered">
<h2>The <code>%&gt;%</code> helps:</h2>
<div id="eliminate-nested-parentheses" class="section level3 unnumbered">
<h3><strong><code>1.</code></strong> Eliminate nested parentheses</h3>
<p>Let‚Äôs say you have 3 numbers. Your analysis requires that you take the sum of them, then take the log of that result, and then round the final outcome.</p>
</div>
<div id="without-the-pipe" class="section level3 unnumbered">
<h3>Without the pipe</h3>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a><span class="fu">round</span>(<span class="fu">log</span>(<span class="fu">sum</span>(<span class="fu">c</span>(<span class="dv">10</span>, <span class="dv">20</span>, <span class="dv">30</span>, <span class="dv">50</span>))))</span></code></pre></div>
<p>The code above is dense and we need to read it backwards from right to left to understand the order of operations. The pipe on the other hand allows us to read the code from left to right.</p>
<p><br></p>
</div>
<div id="with-the-pipe" class="section level3 unnumbered">
<h3>With the pipe <i class="fas fa-smile"></i></h3>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a>result <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">10</span>, <span class="dv">20</span>, <span class="dv">30</span>, <span class="dv">50</span>) <span class="sc">%&gt;%</span></span>
<span id="cb6-2"><a href="#cb6-2" tabindex="-1"></a>            <span class="fu">sum</span>() <span class="sc">%&gt;%</span></span>
<span id="cb6-3"><a href="#cb6-3" tabindex="-1"></a>            <span class="fu">log</span>() <span class="sc">%&gt;%</span></span>
<span id="cb6-4"><a href="#cb6-4" tabindex="-1"></a>            <span class="fu">round</span>()</span></code></pre></div>
<p><br></p>
</div>
<div id="combine-processing-steps-into-a-cohesive-chunk" class="section level3 unnumbered">
<h3><strong><code>2.</code></strong> Combine processing steps into a cohesive chunk</h3>
</div>
<div id="without-the-pipe-1" class="section level3 unnumbered">
<h3>Without the pipe</h3>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a>scrap <span class="ot">&lt;-</span> <span class="fu">arrange</span>(scrap, <span class="fu">desc</span>(price_per_pound))</span>
<span id="cb7-2"><a href="#cb7-2" tabindex="-1"></a></span>
<span id="cb7-3"><a href="#cb7-3" tabindex="-1"></a>scrap <span class="ot">&lt;-</span> <span class="fu">filter</span>(scrap, origin <span class="sc">!=</span> <span class="st">&quot;All&quot;</span>)</span>
<span id="cb7-4"><a href="#cb7-4" tabindex="-1"></a></span>
<span id="cb7-5"><a href="#cb7-5" tabindex="-1"></a>scrap <span class="ot">&lt;-</span> <span class="fu">mutate</span>(scrap, </span>
<span id="cb7-6"><a href="#cb7-6" tabindex="-1"></a>                <span class="at">scrap_finder    =</span> <span class="st">&quot;BB8&quot;</span>,</span>
<span id="cb7-7"><a href="#cb7-7" tabindex="-1"></a>                <span class="at">measure_method  =</span> <span class="st">&quot;REM-24&quot;</span>)</span></code></pre></div>
</div>
<div id="with-the-pipe-1" class="section level3 unnumbered">
<h3>With the pipe</h3>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a>scrap <span class="ot">&lt;-</span> scrap <span class="sc">%&gt;%</span></span>
<span id="cb8-2"><a href="#cb8-2" tabindex="-1"></a>           <span class="fu">arrange</span>(<span class="fu">desc</span>(price_per_pound)) <span class="sc">%&gt;%</span></span>
<span id="cb8-3"><a href="#cb8-3" tabindex="-1"></a>           <span class="fu">filter</span>(origin <span class="sc">!=</span> <span class="st">&quot;All&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb8-4"><a href="#cb8-4" tabindex="-1"></a>           <span class="fu">mutate</span>(<span class="at">scrap_finder    =</span> <span class="st">&quot;BB8&quot;</span>,</span>
<span id="cb8-5"><a href="#cb8-5" tabindex="-1"></a>                  <span class="at">measure_method  =</span> <span class="st">&quot;REM-24&quot;</span>)</span></code></pre></div>
<p><br></p>
</div>
<div id="explore" class="section level3 unnumbered tip">
<h3><i class="fa fa-user-astronaut" style="color: green;"></i> Explore!</h3>
<p>Similar to above, use the <code>%&gt;%</code> to combine the 3 analysis lines below.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a><span class="co"># Group the scrap data by item</span></span>
<span id="cb9-2"><a href="#cb9-2" tabindex="-1"></a>scrap <span class="ot">&lt;-</span> <span class="fu">group_by</span>(scrap, item)</span>
<span id="cb9-3"><a href="#cb9-3" tabindex="-1"></a></span>
<span id="cb9-4"><a href="#cb9-4" tabindex="-1"></a><span class="co"># Calculate each item&#39;s mean price </span></span>
<span id="cb9-5"><a href="#cb9-5" tabindex="-1"></a>scrap <span class="ot">&lt;-</span> <span class="fu">summarize</span>(scrap, <span class="at">mean_price =</span> <span class="fu">mean</span>(price_per_unit))</span>
<span id="cb9-6"><a href="#cb9-6" tabindex="-1"></a></span>
<span id="cb9-7"><a href="#cb9-7" tabindex="-1"></a><span class="co"># Ungroup the data</span></span>
<span id="cb9-8"><a href="#cb9-8" tabindex="-1"></a>scrap <span class="ot">&lt;-</span> <span class="fu">ungroup</span>(scrap)</span></code></pre></div>
</div>
</div>
<div id="let-the-guide-you." class="section level2 unnumbered">
<h2>Let the <code>%&gt;%</code> guide you.</h2>
<p><br></p>
</div>
</div>
<div id="connect-to-databases" class="section level1" number="3">
<h1><span class="header-section-number">3</span> <i class="fas fa-database"></i> Connect to databases</h1>
<hr>
<div id="databases-and-sql" class="section level2 unnumbered">
<h2>Databases and SQL</h2>
<div id="prep" class="section level3 unnumbered">
<h3>Prep</h3>
<p>Let‚Äôs get our favorite starwars data.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" tabindex="-1"></a><span class="co">#install.packages(&quot;RSQLite&quot;)</span></span>
<span id="cb10-2"><a href="#cb10-2" tabindex="-1"></a><span class="co">#install.packages(&quot;DBI&quot;)</span></span>
<span id="cb10-3"><a href="#cb10-3" tabindex="-1"></a><span class="fu">library</span>(RSQLite)</span>
<span id="cb10-4"><a href="#cb10-4" tabindex="-1"></a><span class="fu">library</span>(DBI)</span>
<span id="cb10-5"><a href="#cb10-5" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb10-6"><a href="#cb10-6" tabindex="-1"></a></span>
<span id="cb10-7"><a href="#cb10-7" tabindex="-1"></a>people <span class="ot">&lt;-</span> starwars</span></code></pre></div>
<p><strong>Create a local db</strong></p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" tabindex="-1"></a><span class="co"># Create a connection to a new database</span></span>
<span id="cb11-2"><a href="#cb11-2" tabindex="-1"></a><span class="co"># A .db file will appear in your project folder</span></span>
<span id="cb11-3"><a href="#cb11-3" tabindex="-1"></a>conn <span class="ot">&lt;-</span> <span class="fu">dbConnect</span>(RSQLite<span class="sc">::</span><span class="fu">SQLite</span>(), <span class="st">&quot;people.db&quot;</span>)</span></code></pre></div>
<div id="add-our-data" class="section level4 unnumbered">
<h4>Add our data</h4>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" tabindex="-1"></a><span class="co"># Add the dataset to a table called &quot;people_tbl&quot;</span></span>
<span id="cb12-2"><a href="#cb12-2" tabindex="-1"></a><span class="do">## ERROR! This will throw an error about our data</span></span>
<span id="cb12-3"><a href="#cb12-3" tabindex="-1"></a><span class="fu">try</span>(<span class="fu">dbWriteTable</span>(conn, <span class="st">&quot;people_tbl&quot;</span>, people))</span>
<span id="cb12-4"><a href="#cb12-4" tabindex="-1"></a></span>
<span id="cb12-5"><a href="#cb12-5" tabindex="-1"></a><span class="co"># Drop the list columns</span></span>
<span id="cb12-6"><a href="#cb12-6" tabindex="-1"></a>people <span class="ot">&lt;-</span> <span class="fu">select</span>(people, <span class="sc">-</span>films, <span class="sc">-</span>vehicles, <span class="sc">-</span>starships)</span>
<span id="cb12-7"><a href="#cb12-7" tabindex="-1"></a></span>
<span id="cb12-8"><a href="#cb12-8" tabindex="-1"></a><span class="co"># Try again</span></span>
<span id="cb12-9"><a href="#cb12-9" tabindex="-1"></a><span class="fu">try</span>(<span class="fu">dbWriteTable</span>(conn, <span class="st">&quot;people_tbl&quot;</span>, people))</span>
<span id="cb12-10"><a href="#cb12-10" tabindex="-1"></a></span>
<span id="cb12-11"><a href="#cb12-11" tabindex="-1"></a><span class="co"># List all the tables available in the database</span></span>
<span id="cb12-12"><a href="#cb12-12" tabindex="-1"></a><span class="fu">dbListTables</span>(conn)</span></code></pre></div>
</div>
</div>
<div id="reading-data" class="section level3 unnumbered">
<h3>Reading data</h3>
<p><strong>SQL</strong></p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" tabindex="-1"></a><span class="fu">dbGetQuery</span>(conn, <span class="st">&quot;SELECT * FROM people_tbl&quot;</span>)</span>
<span id="cb13-2"><a href="#cb13-2" tabindex="-1"></a></span>
<span id="cb13-3"><a href="#cb13-3" tabindex="-1"></a><span class="co"># Filter the data</span></span>
<span id="cb13-4"><a href="#cb13-4" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">dbGetQuery</span>(conn, <span class="st">&quot;SELECT * FROM people_tbl </span></span>
<span id="cb13-5"><a href="#cb13-5" tabindex="-1"></a><span class="st">                        WHERE eye_color = &#39;brown&#39;&quot;</span>)</span></code></pre></div>
<p><strong>dplyr</strong></p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" tabindex="-1"></a><span class="fu">tbl</span>(conn, <span class="st">&quot;people_tbl&quot;</span>)</span></code></pre></div>
<pre><code>## # Source:   table&lt;people_tbl&gt; [?? x 11]
## # Database: sqlite 3.39.4 [/cloud/project/content/page/people.db]
##    name        height  mass hair_‚Ä¶¬π skin_‚Ä¶¬≤ eye_c‚Ä¶¬≥ birth‚Ä¶‚Å¥ sex   gender homew‚Ä¶‚Åµ
##    &lt;chr&gt;        &lt;int&gt; &lt;dbl&gt; &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;     &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;  &lt;chr&gt;  
##  1 Luke Skywa‚Ä¶    172    77 blond   fair    blue       19   male  mascu‚Ä¶ Tatooi‚Ä¶
##  2 C-3PO          167    75 &lt;NA&gt;    gold    yellow    112   none  mascu‚Ä¶ Tatooi‚Ä¶
##  3 R2-D2           96    32 &lt;NA&gt;    white,‚Ä¶ red        33   none  mascu‚Ä¶ Naboo  
##  4 Darth Vader    202   136 none    white   yellow     41.9 male  mascu‚Ä¶ Tatooi‚Ä¶
##  5 Leia Organa    150    49 brown   light   brown      19   fema‚Ä¶ femin‚Ä¶ Aldera‚Ä¶
##  6 Owen Lars      178   120 brown,‚Ä¶ light   blue       52   male  mascu‚Ä¶ Tatooi‚Ä¶
##  7 Beru White‚Ä¶    165    75 brown   light   blue       47   fema‚Ä¶ femin‚Ä¶ Tatooi‚Ä¶
##  8 R5-D4           97    32 &lt;NA&gt;    white,‚Ä¶ red        NA   none  mascu‚Ä¶ Tatooi‚Ä¶
##  9 Biggs Dark‚Ä¶    183    84 black   light   brown      24   male  mascu‚Ä¶ Tatooi‚Ä¶
## 10 Obi-Wan Ke‚Ä¶    182    77 auburn‚Ä¶ fair    blue-g‚Ä¶    57   male  mascu‚Ä¶ Stewjon
## # ‚Ä¶ with more rows, 1 more variable: species &lt;chr&gt;, and abbreviated variable
## #   names ¬π‚Äãhair_color, ¬≤‚Äãskin_color, ¬≥‚Äãeye_color, ‚Å¥‚Äãbirth_year, ‚Åµ‚Äãhomeworld
## # ‚Ñπ Use `print(n = ...)` to see more rows, and `colnames()` to see all variable names</code></pre>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" tabindex="-1"></a><span class="co"># Filter the data</span></span>
<span id="cb16-2"><a href="#cb16-2" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">tbl</span>(conn, <span class="st">&quot;people_tbl&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb16-3"><a href="#cb16-3" tabindex="-1"></a>        <span class="fu">filter</span>(eye_color <span class="sc">==</span> <span class="st">&quot;brown&quot;</span>) </span>
<span id="cb16-4"><a href="#cb16-4" tabindex="-1"></a></span>
<span id="cb16-5"><a href="#cb16-5" tabindex="-1"></a><span class="co"># Show the SQL that *will* run, if you tell it to</span></span>
<span id="cb16-6"><a href="#cb16-6" tabindex="-1"></a><span class="fu">show_query</span>(df)</span></code></pre></div>
<pre><code>## &lt;SQL&gt;
## SELECT *
## FROM `people_tbl`
## WHERE (`eye_color` = &#39;brown&#39;)</code></pre>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" tabindex="-1"></a><span class="co"># Run the SQL and return the data</span></span>
<span id="cb18-2"><a href="#cb18-2" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">collect</span>(df)</span></code></pre></div>
</div>
<div id="database-parameters-for-the-real-world" class="section level3 unnumbered">
<h3>Database parameters for the real world</h3>
<ul>
<li><code>driver</code> : Specific to the type of database: Oracle, PostgreSQL, Athena</li>
<li><code>url</code> or <code>host</code> : The web or server location to connect to<br />
</li>
<li><code>port</code> : A 4 digit number of the port to use for communicating with the db<br />
</li>
<li><code>db</code> : The db name<br />
</li>
<li><code>user</code> : Your username for the db<br />
</li>
<li><code>password</code> : Your password for the db</li>
</ul>
<blockquote>
<p>Woah! That is a lot to keep track of. Luckily, there are helper packages to simplify connecting to various databases. Contact your Agency‚Äôs R user group for more info.</p>
</blockquote>
</div>
</div>
</div>
<div id="password-is-it-secret-is-it-safe" class="section level1" number="4">
<h1><span class="header-section-number">4</span> Password: Is it secret, is it safe?</h1>
<hr>
<p><br></p>
<div id="using-passwords-in-r" class="section level3 unnumbered">
<h3>Using passwords in R</h3>
<p><br></p>
<p><strong>Not secret, not safe</strong></p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" tabindex="-1"></a>user <span class="ot">&lt;-</span> <span class="st">&quot;Me&quot;</span></span>
<span id="cb19-2"><a href="#cb19-2" tabindex="-1"></a>password <span class="ot">&lt;-</span> <span class="st">&quot;IloveR2D2!&quot;</span></span>
<span id="cb19-3"><a href="#cb19-3" tabindex="-1"></a></span>
<span id="cb19-4"><a href="#cb19-4" tabindex="-1"></a><span class="co"># Connect to db &quot;Area51&quot;</span></span></code></pre></div>
<p><strong>Yes secret, Yes safe</strong></p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" tabindex="-1"></a><span class="co">#install.packages(&quot;keyring&quot;)</span></span>
<span id="cb20-2"><a href="#cb20-2" tabindex="-1"></a><span class="fu">library</span>(keyring)</span>
<span id="cb20-3"><a href="#cb20-3" tabindex="-1"></a></span>
<span id="cb20-4"><a href="#cb20-4" tabindex="-1"></a><span class="co"># This opens a popup to enter and store your password for the db</span></span>
<span id="cb20-5"><a href="#cb20-5" tabindex="-1"></a><span class="do">## Only need to do once</span></span>
<span id="cb20-6"><a href="#cb20-6" tabindex="-1"></a><span class="fu">key_set</span>(<span class="st">&quot;Area51&quot;</span>, <span class="st">&quot;Me&quot;</span>)</span>
<span id="cb20-7"><a href="#cb20-7" tabindex="-1"></a></span>
<span id="cb20-8"><a href="#cb20-8" tabindex="-1"></a><span class="co"># Then use this to safely add your password to your script</span></span>
<span id="cb20-9"><a href="#cb20-9" tabindex="-1"></a><span class="fu">key_get</span>(<span class="st">&quot;Area51&quot;</span>, <span class="st">&quot;Me&quot;</span>)</span></code></pre></div>
</div>
<div id="connecting-to-agency-databases" class="section level3 unnumbered">
<h3>Connecting to Agency databases</h3>
<blockquote>
<p><em>A live demo will begin shortly‚Ä¶</em></p>
</blockquote>
<p><br></p>
</div>
</div>
<div id="your-turn" class="section level1" number="5">
<h1><span class="header-section-number">5</span> Your turn</h1>
<hr>
<p>Time to start putting what we‚Äôve learned to use. Choose one of the paths below and use your new hard-earned R skills to explore data. When you feel ready, jump to the Grand Moff path and begin making a report for your <strong>own</strong> data.</p>
<div class="row3" style="margin-top: 20px;">
<div class="column3">
<span style="margin-left: 2px;">
<a href="level1_jakku_explore.html"><i class="fa fa-star" aria-hidden="true" style="color: #fa970c;"></i> <strong>ENSIGN</strong> </a>
</span>
</div>
<div class="column3">
<span style="margin-left: 2px; display: inline;">
<a href="level2_porg_exposure.html"> <i class="fa fa-star" aria-hidden="true" style="color: #fa970c;"></i><i class="fa fa-star" aria-hidden="true" style="color: #fa970c;"></i> <strong>COMMODORE</strong> </a>
</span>
</div>
<div class="column3">
<span style="margin-left: 2px;">
<a href="level3_example_outline.html"><i class="fa fa-star" aria-hidden="true" style="color: #fa970c;"></i><i class="fa fa-star" aria-hidden="true" style="color: #fa970c;"></i><i class="fa fa-star" aria-hidden="true" style="color: #fa970c;"></i> <strong>GRAND MOFF</strong> </a>
</span>
</div>
</div>
<div class="row3">
<div class="column3" style="height: 232px; max-height: 232px;">
<div style="border: 1px solid grey;">
<p><a href="level1_jakku_explore.html"><img src="../images/jakku_sq.PNG" style="width: 290px;"></a></p>
</div>
</div>
<div class="column3" style="height: 232px; max-height: 232px;">
<div style="border: 1px solid grey;">
<p><a href="level2_porg_exposure.html"><img src="../images/fly_porgs_sq.jpg" style="width: 290px;"></a></p>
</div>
</div>
<div class="column3" style="height: 232px; max-height: 232px;">
<div style="border: 1px solid grey;">
<p><a href="level3_example_outline.html"><img src="../images/death_star_sq.PNG" style="width: 290px;"></a></p>
</div>
</div>
</div>
<div class="row3" style="margin-top: 22px;">
<div class="column3">
<p>Explore the scrap and salvage economy on Jakku.</p>
<p>Media: <code>solid waste</code><br />
Planet: <code>Jakku</code></p>
</div>
<div class="column3">
<p>Study the effects of jet-fuel on Porg reflexes.</p>
<p>Media: <code>biological</code><br />
Planet: <code>Ahch-To</code></p>
</div>
<div class="column3">
<p>Travel back to Earth and explore your own data set.</p>
<p>Media: <code>all</code><br />
Planet: <code>Earth</code></p>
</div>
</div>
<p><br></p>
</div>
<div id="whats-next" class="section level1 unnumbered">
<h1>What‚Äôs next?</h1>
<hr class="hrlvl2">
<div id="join-us" class="section level4 unnumbered">
<h4>Join us!</h4>
<ul>
<li>R user groups: TidyTuesdays</li>
<li>R Teams in Teams</li>
</ul>
</div>
<div id="r-heroes" class="section level4 unnumbered">
<h4>R heroes</h4>
<ul>
<li>MN‚Äôs Amelia McNamara
<ul>
<li><a href="https://twitter.com/ameliamn?lang=en">Tweets</a> and <a href="https://www.youtube.com/ameliamcnamara">YouTube</a><br />
</li>
</ul></li>
<li>David Robinson
<ul>
<li><a href="https://twitter.com/drob?lang=en">Tweets</a> and <a href="https://www.youtube.com/@safe4democracy/videos">YouTube</a> (Tidy Tuesday screencasts)<br />
</li>
</ul></li>
<li>Jenny Bryan
<ul>
<li><a href="https://twitter.com/jennybryan?lang=en">Tweets</a> and <a href="https://jennybryan.org/talk/">Talks</a> (See <a href="https://www.youtube.com/watch?v=7oyiPBjLAWY">Code smells</a>)</li>
</ul></li>
<li>Allison Horst
<ul>
<li><a href="https://github.com/allisonhorst">Github</a> and <a href="https://allisonhorst.com/r-packages-functions">Art!</a> (See mutate &amp; janitor)</li>
</ul></li>
</ul>
</div>
<div id="online-courses" class="section level4 unnumbered">
<h4>Online courses</h4>
<ul>
<li>John Hopkins‚Äô <a href="https://www.coursera.org/learn/exploratory-data-analysis?specialization=data-science-foundations-r">Exploratory Data Analysis</a></li>
</ul>
</div>
<div id="web-trainings" class="section level4 unnumbered">
<h4>Web trainings</h4>
<ul>
<li>RStudio Primers
<ul>
<li><a href="https://posit.cloud/learn/primers/1.1">Data Visualization Basics</a></li>
<li><a href="https://posit.cloud/learn/primers/1.2">R Programming Basics</a></li>
</ul></li>
<li><a href="https://tinystats.github.io/teacups-giraffes-and-statistics/01_introToR.html">Intro to R</a> - Cute giraffes!</li>
<li><a href="https://r-bootcamp.netlify.app/chapter1">R boot camp</a> - The Magic of ggplot2</li>
</ul>
</div>
<div id="online-books" class="section level4 unnumbered">
<h4>Online books</h4>
<ul>
<li><a href="https://rstudio-education.github.io/hopr/basics.html">Hands on R</a></li>
<li><a href="https://r4ds.had.co.nz/">R for Data Science</a></li>
</ul>
</div>
</div>
<div id="concatulations" class="section level1 unnumbered">
<h1>üê± Concatulations!</h1>
<hr class="hrlvl2">
<p><strong>You were an excellent Data Droid!</strong> <strong>Rey and BB8 absolutely couldn‚Äôt have done it without you.</strong></p>
<blockquote>
<p>You deserve an award.</p>
</blockquote>
<pre><code>    Meowwwwww R Users! 
      \
       \
        \
            |\___/|
          ==) ^Y^ (==
            \  ^  /
             )=*=(
            /     \
            |     |
           /| | | |\
           \| | |_|/\
      jgs  //_// ___/
               \_)</code></pre>
<p><br></p>
</div>
<div id="return-to-earth" class="section level1 unnumbered">
<h1>Return to Earth</h1>
<hr class="hrlvl2">
<p>You‚Äôre free! You can return to Earth now. Go ahead and robot frolic in the grass, enjoy the solar power, and jump in a lake. To help you fully acclimate, let‚Äôs look at some Earth data.</p>
<p><br></p>
<div class="row3" style="margin-top: 20px;">
<div class="column3">
<div align="center">
<p><a href="explore_GIS_maps.html" style="margin-left: auto;"> <strong>Maps for humans</strong> </a></p>
</div>
</div>
</div>
<div class="row3">
<div class="column3" style="height: 160px; max-height: 160px;">
<div style="border: 1px solid grey; max-height: 160px; overflow: hidden;">
<p><a href="explore_GIS_maps.html"><img src="../images/map_Hennepin.png" style="width: 290px;"></a></p>
</div>
</div>
</div>
<div class="row3">
<div class="column3">
<p>Study the housing habits of Earthlings. Create interactive maps showing the spatial clustering of different social characteristics of the human species.</p>
</div>
</div>
<div class="row3" style="margin-top: 2px;">
<div class="column3">
<p>Media: <code>social-human</code><br />
Planet: <code>Earth</code></p>
</div>
</div>
<p><br></p>
<div id="return-to-homebase" class="section level3 unnumbered">
<h3><i class="fa fa-rocket" aria-hidden="true"></i> Return to <a href="../post/day-3.html">Homebase</a></h3>
<p><br></p>
</div>
</div>
